'use strict';

angular.module('toolbox')
.controller('MainCtrl', function ($scope, $location, $stateParams) {
  $scope.awesomeThings = [
    {
    'title': 'Web Security',
    'description': 'Breaking PHP applications, SQL databases and similar things.',
    'logo': 'Web.svg',
    'url' : ''
  },
  {
    'title': 'WiFi Security',
    'description': 'Hacking secured WiFi, breaking public hotspot protection and having fun at Starbucks.',
    'logo': 'WiFi.svg',
    'url' : ''
  },
  {
    'title': 'Reverse Engineering',
    'description': 'Cracking binaries, analyzing the security of Mac applications and gadgets from the hardware world.',
    'logo': 'Reverse.svg',
    'url' : ''
  },
  {
    'title': 'iOS Security',
    'description': 'Analyzing the implementation of Jailbreaks and security of iOS devices.',
    'logo': 'iOS.svg',
    'url' : ''
  },
  {
    'title': 'System Setup',
    'description': 'Nice gadgets to add to your tool chain.',
    'logo': 'Setup.svg',
    'url' : ''
  }
  ];

  $scope.articles = {
    'Web Security' : [
      {
        'title': 'Session hijacking attacks',
        'description': 'An overview about various approaches for session hijacking.',
        'logo': 'none.svg',
        'url' : 'session-hijacking-overview'
      },
      {
        'title': 'XML parsers DoS',
        'description': 'Demonstration of the billion laughes attack which crashes servers that use i.e. the latest PhantomJS.',
        'logo': 'none.svg',
        'url' : 'billion-laughs'
      },
      {
        'title': 'PHP Head Attack',
        'description': 'This article explains how you can abort any PHP script in the middle at it\'s first output.',
        'logo': 'none.svg',
        'url' : 'php-head-attack'
      }
    ],
    'WiFi Security' : [

    ],
    'Reverse Engineering' : [

    ],
    'iOS Security' : [

    ],
    'System Setup' : [

    ]
  }

  $scope.go = function (url, category) {
    if(url.length > 0){
      $location.path($stateParams.category + "/" + url); 
    } else {
      $location.path(category)
    }
  }
  if($stateParams.category.length > 0) {
    $scope.boxes = $scope.articles[$stateParams.category]	
  } else {
    $scope.boxes = $scope.awesomeThings
  }
});
